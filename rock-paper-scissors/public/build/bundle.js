var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c,l;function u(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function i(t,e,n){return t.set(n),e}function a(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function m(){return $(" ")}function h(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e,n){t.classList[n?"add":"remove"](e)}function _(t){l=t}function b(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const w=[],k=[],x=[],E=[],C=Promise.resolve();let z=!1;function O(t){x.push(t)}const A=new Set;let L=0;function S(){const t=l;do{for(;L<w.length;){const t=w[L];L++,_(t),T(t.$$)}for(_(null),w.length=0,L=0;k.length;)k.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];A.has(e)||(A.add(e),e())}x.length=0}while(w.length);for(;E.length;)E.pop()();z=!1,A.clear(),_(t)}function T(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const j=new Set;let M;function N(){M={r:0,c:[],p:M}}function P(){M.r||r(M.c),M=M.p}function I(t,e){t&&t.i&&(j.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),M.c.push((()=>{j.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Y(t){t&&t.c()}function D(t,n,o,c){const{fragment:l,on_mount:u,on_destroy:i,after_update:a}=t.$$;l&&l.m(n,o),c||O((()=>{const n=u.map(e).filter(s);i?i.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(O)}function G(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(w.push(t),z||(z=!0,C.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(e,s,o,c,u,i,a,f=[-1]){const d=l;_(e);const $=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||d.$$.root};a&&a($.root);let m=!1;if($.ctx=o?o(e,s.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return $.ctx&&u($.ctx[t],$.ctx[t]=s)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](s),m&&H(e,t)),n})):[],$.update(),m=!0,r($.before_update),$.fragment=!!c&&c($.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);$.fragment&&$.fragment.l(t),t.forEach(p)}else $.fragment&&$.fragment.c();s.intro&&I(e.$$.fragment),D(e,s.target,s.anchor,s.customElement),S()}_(d)}class K{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function W(e){let n,r,s,o;return{c(){n=d("div"),r=d("div"),g(r,"class","icon svelte-1t8r9a0"),g(n,"class","back svelte-1t8r9a0"),g(n,"style",e[2]),y(n,"last",e[0]),y(n,"winner",e[1])},m(t,c){f(t,n,c),a(n,r),s||(o=h(n,"click",e[5]),s=!0)},p(t,[e]){4&e&&g(n,"style",t[2]),1&e&&y(n,"last",t[0]),2&e&&y(n,"winner",t[1])},i:t,o:t,d(t){t&&p(n),s=!1,o()}}}function q(t,e,n){let r,{tile:s="paper"}=e,{last:o=!1}=e,{winner:c=!1}=e,{size:l=100}=e;const{icon:u=null,start_colour:i=null,end_colour:a=null}={paper:{icon:"../images/icon-paper.svg",start_colour:"hsl(230, 89%, 62%)",end_colour:"hsl(230, 89%, 65%)"},scissors:{icon:"../images/icon-scissors.svg",start_colour:"hsl(39, 89%, 49%)",end_colour:"hsl(40, 84%, 53%)"},rock:{icon:"../images/icon-rock.svg",start_colour:"hsl(349, 71%, 52%)",end_colour:"hsl(349, 70%, 56%)"}}[s];return t.$$set=t=>{"tile"in t&&n(3,s=t.tile),"last"in t&&n(0,o=t.last),"winner"in t&&n(1,c=t.winner),"size"in t&&n(4,l=t.size)},t.$$.update=()=>{16&t.$$.dirty&&n(2,r=`--start-colour:${i};--end-colour:${a};--icon:url('${u}');--icon-size:${l/100}`)},[o,c,r,s,l,function(e){b.call(this,t,e)}]}class B extends K{constructor(t){super(),R(this,t,q,W,o,{tile:3,last:0,winner:1,size:4})}}const F=[];const J=function(e,n=t){let r;const s=new Set;function c(t){if(o(e,t)&&(e=t,r)){const t=!F.length;for(const t of s)t[1](),F.push(t,e);if(t){for(let t=0;t<F.length;t+=2)F[t][0](F[t+1]);F.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(o,l=t){const u=[o,l];return s.add(u),1===s.size&&(r=n(c)||t),o(e),()=>{s.delete(u),0===s.size&&(r(),r=null)}}}}({stage:"selection",player_current:null,house_current:null,reveal:!1,result:null,score:0});function Q(t){let e,n,r,o,c,l,u;return n=new B({props:{tile:"paper"}}),n.$on("click",(function(){s(t[0]("paper"))&&t[0]("paper").apply(this,arguments)})),o=new B({props:{tile:"scissors"}}),o.$on("click",(function(){s(t[0]("scissors"))&&t[0]("scissors").apply(this,arguments)})),l=new B({props:{tile:"rock",last:!0}}),l.$on("click",(function(){s(t[0]("rock"))&&t[0]("rock").apply(this,arguments)})),{c(){e=d("div"),Y(n.$$.fragment),r=m(),Y(o.$$.fragment),c=m(),Y(l.$$.fragment),g(e,"class","choices svelte-ogrms7")},m(t,s){f(t,e,s),D(n,e,null),a(e,r),D(o,e,null),a(e,c),D(l,e,null),u=!0},p(e,[n]){t=e},i(t){u||(I(n.$$.fragment,t),I(o.$$.fragment,t),I(l.$$.fragment,t),u=!0)},o(t){U(n.$$.fragment,t),U(o.$$.fragment,t),U(l.$$.fragment,t),u=!1},d(t){t&&p(e),G(n),G(o),G(l)}}}function V(t,e,n){let r,s;u(t,J,(t=>n(1,s=t)));const o=["rock","paper","scissors"],c={rock:"scissors",paper:"rock",scissors:"paper"},l=o.length;return t.$$.update=()=>{2&t.$$.dirty&&n(0,r=t=>{i(J,s.stage="picked",s),i(J,s.player_current=t,s),i(J,s.house_current=(()=>{const t=Math.floor(Math.random()*l);return o[t]})(),s);const e=c[s.player_current],n=c[s.house_current];let r=null;r=e===s.house_current?"player":s.player_current===n?"house":"draw",setTimeout((()=>{i(J,s.reveal=!0,s)}),1500),setTimeout((()=>{i(J,s.result=r,s),"player"==r&&i(J,s.score+=1,s),"house"==r&&i(J,s.score-=1,s)}),3e3)})},[r,s]}class X extends K{constructor(t){super(),R(this,t,V,Q,o,{})}}function Z(e){let n,r,s,o,c=e[0].score+"";return{c(){n=d("div"),r=$("SCORE\r\n  "),s=d("div"),o=$(c),g(s,"class","score-value svelte-ej4avt"),g(n,"class","score svelte-ej4avt")},m(t,e){f(t,n,e),a(n,r),a(n,s),a(s,o)},p(t,[e]){1&e&&c!==(c=t[0].score+"")&&v(o,c)},i:t,o:t,d(t){t&&p(n)}}}function tt(t,e,n){let r;return u(t,J,(t=>n(0,r=t))),[r]}class et extends K{constructor(t){super(),R(this,t,tt,Z,o,{})}}function nt(t){let e,n,r,s,o,c;return{c(){e=d("div"),n=$(t[1]),r=m(),s=d("button"),s.textContent="PLAY AGAIN",g(s,"class","button svelte-sro55n"),g(e,"class","result svelte-sro55n")},m(l,u){f(l,e,u),a(e,n),a(e,r),a(e,s),o||(c=h(s,"click",t[4]),o=!0)},p(t,e){2&e&&v(n,t[1])},d(t){t&&p(e),o=!1,c()}}}function rt(e){let n;return{c(){n=d("div"),g(n,"class","spacer svelte-sro55n")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}function st(t){let e,n;return e=new B({props:{tile:t[0].house_current,winner:t[2],size:150}}),{c(){Y(e.$$.fragment)},m(t,r){D(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.tile=t[0].house_current),4&n&&(r.winner=t[2]),e.$set(r)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function ot(t){let e,n,r,s,o,c,l,u,i,$,h,v,y,_,b;i=new B({props:{tile:t[0].player_current,winner:t[3],size:150}});let w=t[0].result&&nt(t);const k=[st,rt],x=[];function E(t,e){return t[0].reveal?0:1}return y=E(t),_=x[y]=k[y](t),{c(){e=d("div"),n=d("p"),n.textContent="YOU PICKED",r=m(),s=d("p"),o=m(),c=d("p"),c.textContent="THE HOUSE PICKED",l=m(),u=d("div"),Y(i.$$.fragment),$=m(),w&&w.c(),h=m(),v=d("div"),_.c(),g(n,"class","title"),g(c,"class","title"),g(u,"class","player svelte-sro55n"),g(v,"class","house svelte-sro55n"),g(e,"class","choices svelte-sro55n")},m(t,p){f(t,e,p),a(e,n),a(e,r),a(e,s),a(e,o),a(e,c),a(e,l),a(e,u),D(i,u,null),a(e,$),w&&w.m(e,null),a(e,h),a(e,v),x[y].m(v,null),b=!0},p(t,[n]){const r={};1&n&&(r.tile=t[0].player_current),8&n&&(r.winner=t[3]),i.$set(r),t[0].result?w?w.p(t,n):(w=nt(t),w.c(),w.m(e,h)):w&&(w.d(1),w=null);let s=y;y=E(t),y===s?x[y].p(t,n):(N(),U(x[s],1,1,(()=>{x[s]=null})),P(),_=x[y],_?_.p(t,n):(_=x[y]=k[y](t),_.c()),I(_,1),_.m(v,null))},i(t){b||(I(i.$$.fragment,t),I(_),b=!0)},o(t){U(i.$$.fragment,t),U(_),b=!1},d(t){t&&p(e),G(i),w&&w.d(),x[y].d()}}}function ct(t,e,n){let r,s,o,c;u(t,J,(t=>n(0,c=t)));return t.$$.update=()=>{1&t.$$.dirty&&n(3,r="player"===c.result),1&t.$$.dirty&&n(2,s="house"===c.result),1&t.$$.dirty&&n(1,o="player"===c.result?"YOU WIN":"house"===c.result?"YOU LOSE":"DRAW")},[c,o,s,r,()=>{i(J,c.stage="selection",c),i(J,c.player_current=null,c),i(J,c.house_current=null,c),i(J,c.reveal=!1,c),i(J,c.result=null,c)}]}class lt extends K{constructor(t){super(),R(this,t,ct,ot,o,{})}}function ut(t){let e,n;return e=new lt({}),{c(){Y(e.$$.fragment)},m(t,r){D(e,t,r),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function it(t){let e,n;return e=new X({}),{c(){Y(e.$$.fragment)},m(t,r){D(e,t,r),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function at(t){let e,n,r,s,o,l,u,i,$,h,v,y;l=new et({});const _=[it,ut],b=[];function w(t,e){return"selection"===t[0].stage?0:"picked"===t[0].stage?1:-1}return~(i=w(t))&&($=b[i]=_[i](t)),{c(){var t,i;e=d("main"),n=d("div"),r=d("img"),o=m(),Y(l.$$.fragment),u=m(),$&&$.c(),h=m(),v=d("footer"),v.innerHTML='<div class="attribution">Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. Coded by\n    <a href="https://github.com/LeeGvs">Lee Greaves</a>.</div>',t=r.src,i=s="../images/logo.svg",c||(c=document.createElement("a")),c.href=i,t!==c.href&&g(r,"src","../images/logo.svg"),g(r,"alt","RPS-logo"),g(n,"class","heading svelte-rfnhif"),g(e,"class","container svelte-rfnhif")},m(t,s){f(t,e,s),a(e,n),a(n,r),a(n,o),D(l,n,null),a(e,u),~i&&b[i].m(e,null),f(t,h,s),f(t,v,s),y=!0},p(t,[n]){let r=i;i=w(t),i!==r&&($&&(N(),U(b[r],1,1,(()=>{b[r]=null})),P()),~i?($=b[i],$||($=b[i]=_[i](t),$.c()),I($,1),$.m(e,null)):$=null)},i(t){y||(I(l.$$.fragment,t),I($),y=!0)},o(t){U(l.$$.fragment,t),U($),y=!1},d(t){t&&p(e),G(l),~i&&b[i].d(),t&&p(h),t&&p(v)}}}function ft(t,e,n){let r;return u(t,J,(t=>n(0,r=t))),[r]}return new class extends K{constructor(t){super(),R(this,t,ft,at,o,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
